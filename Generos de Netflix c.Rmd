---
title: "Generos de Netflix"
author: "Abrahám Soto y Odalis Rodriguez"
date: "2024-07-05"
output: pdf_document
---

\pagebreak

# INTRODUCCIÓN

A través de este análisis estadístico se busca determinar el estudio de los géneros de peliculas, series, documentales y mucho más correspondientes a todas las entregas de la plataforma de streaming Netflix, desde el año 2014 al año 2021, siendo un total de 583 titulos.

Analizaremos los géneros según sus puntajes los cuales son establecido por la audiencia de imdb_score con un rango de 0 a 10 puntos. Obteniendo así cuales son los mejores géneros de la plataforma Netflix y cuántos titulos de diferentes calidades hay según cada uno.

## Análisis de data

Al ver nuestra base de datos podemos encontrar las variables "titulos" , "generos" y "puntajes" con los cuales vamos a trabajar. Cada puntaje es correspondiente a cada titulo, los generos varían puesto que son 112 géneros en total, comenzaremos agrupando estos generos en nuevos grupos asociandolos para minimizar el total de generos, esto volverá nuestro trabajo más fácil.


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(corrplot)
Netflix.G6 <- read.csv("C:/Users/Venejuegos/Desktop/UCV/Netflix G6.csv", sep=";")
 View(Netflix.G6) 
```


#### Objetivo 1


Analizaremos la variale "Generos" para designar nuestras primeras operaciones, al ser una variable de tipo carácter la transformaremos a factor.

```{r Factor, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
Netflix.G6$Genero <- factor(Netflix.G6$Genero)
Genero <- Netflix.G6$Genero
```

Creando el factor "Genero" podemos conocer el total de generos exisentes:

```{r Generos}
table(Genero)
```

Podemos apreciar que existe un total de 114 géneros, una cantidad sumamente grande de trabajar, vamos a reducirlo a 6 géneros agrupandolos según sus carácteristicas.

```{r Agrupar, include=FALSE}
Generos <- c(rep("Documentary" ,159) , rep("Drama" ,77) , rep("Comedy" ,49) , 
        rep("Romantic comedy" ,39) , rep("Thriller" ,33) , rep("Comedy-drama" ,14) ,
        rep("Other" ,212))
```

```{r Renombrar, include=FALSE}
Generos <- factor(Generos,
             levels = c("Documentary" , "Drama" , "Comedy" , "Romantic comedy" , 
                        "Thriller" , "Comedy-drama" , "Other") ,
             labels = c("Documental" , "Drama" , "Comedia" , "Romance" , "Thriller" ,
                        "Comedia" , "Otros"))

```


```{r Nueva tabla de Generos}
table(Generos)
```

Gracias a nuestra nueva tabla de frecuencias acumuladas, podemos vizualizar a través de un gráfco nuestras magnitudes:

```{r Crear G, include=FALSE}
G  <- ggplot(mapping = aes(x = factor(Generos))) + geom_bar(fill = "Purple") + coord_flip()
```

```{r Gráfica, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
GENEROS <- G + ggtitle("Cantidad de Titulos por Genero") +
   theme(plot.title = element_text(family = "sans", 
                                   size=rel(1.8),
                                   vjust=0.5 , hjust=0.5 ,
                                   face = "italic" ,
                                   color="Black"))+
labs(x="Generos",y="Titulos")+
  theme(axis.title.x = element_text(face="bold",vjust=0.5, color="Purple", size=rel(1.5)))+
  theme(axis.title.y = element_text(face="bold",vjust=0.5, color="Black", size=rel(1.5)))
```

```{r GENEROS}
GENEROS
```


## Objetivo 2

Evaluaremos la variable puntaje de imdb_score para analizar los puntajes correspondientes a los generos, agrupandolos en los 6 tipos de generos que creamos

```{r Puntos}
table(Netflix.G6$imdb_score)
```

Podemos obersar una tabla de frecuencias para los generos, iniciando de su puntuación más baja 2.5 hasta la más alta 9. Vamos a agrupar los puntajes correspondientes a cada géneros:

```{r}
knitr::opts_chunk$set(echo = TRUE)
rangos  <- c(0, 5, 7, 10)

Netflix.G6 <- Netflix.G6%>%mutate(Calidad=cut(imdb_score, breaks = rangos,
                              labels = c("Baja" , "Media" , "Alta")))


```
Observemos una tabla de nuestra nueva variable creada a través de otras dos:

```{r}
table(Netflix.G6$Calidad)
```

## Estelizaremos nuestra tabla en un gráfico

```{r calidad, include=FALSE}
C <- ggplot(Netflix.G6, aes(x=Generos, y=imdb_score, fill=Calidad)) + geom_col(position ="dodge")
```

```{r}
C
```

Observamos que los generos son casi homogeneos entre si 

## Objetivo 3

A través de una matriz vamos a evaluar la correlación entre los generos

```{r}
table(Generos, Netflix.G6$Calidad)
```

```{r Vectores , include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

ComediaP <- c(17 , 41 , 5)
DramaP <- c(18 , 53 , 6)
DocumentalP <- c(29 , 113 , 17)
OtrosP <- c(45 , 145 , 22)
RomanceP <- c(12 , 23 , 4)
ThrillerP <- c(12 , 17 , 4)
```

```{r Matriz}
knitr::opts_chunk$set(echo = TRUE)

Datos <- matrix(c(ComediaP, DocumentalP, DramaP, RomanceP, ThrillerP, OtrosP),
                  nrow = 3,
                  ncol = 6)

colnames(Datos) <- c("Comedia" , "Documental" , "Drama" , "Romance", "Thriller", "Otros")
rownames(Datos) <- c("Buena" , "Regular" , "Mala")
```

```{r}
Datos
```

```{r Frecuencias}
prop.table(Datos)
```
Podemos encontrar las frecuencias reltivas en nuestra tabla de datos, en la cual podemos interpretar en porcentajes cualquiera de las celdas de nuestra tabla.

```{r}
prop.table(Datos,1)
```
Evaluamos las frecuencias relativas de nuestra tabla condicionada por filas

```{r}
prop.table(Datos, 2)
```


Evaluamos las frecuencias relativas de nuestra tabla condicionada por columnas

## Correlación entre Generos

Evaluamos la correlación de cada genero con otro

```{r}
Correlacion_Generos <- cor(Datos, method = "pearson")
Correlacion_Generos

```

Evaluamos nuestros resultados, cada genero se correlaciona con otro, evaluando así cada combinación. Vamos a estetizarlo para una mejor observación:

```{r}
corrplot(Correlacion_Generos)
```

### Resultados

Con nuestro analisis hemos determinado los siguientes resultados:

1. El genero con mayor cantidad de titulos de "Buena Calidad" es Otros, con un total de 45 titulos y los generos con menor cantidad de titulos de "Buena Calidad" pertenece a Romance y Thriller con 12 titulos cada uno.

2. El genero con mayor cantidad de títulos de "Baja Calidad" pertenece a Otros con un total de 22 titulos y el genero con menor cantidad de titulos de "Baja Calidad" pertenecen a Romance y Thriller con 4 titulos cada uno.

3. La cantidad de titulos de cada genero ordenados desde el mayor al menor sería: Otros, Documental, Drama, Comedia, Romance, Thriller.

4. La menor correlación entre generos es Documental y Thriller con 0.8571465

# Conclusión

Ahora sabemos la calidad de los géneros de la plataforma de streaming Netflix, la proxima vez que querramos ver algún titulo en nuestro día, podemos evaluar a través del analisis elaborado, cuales serían nuestras mejores opciones de Generos según sus porcentajes de calidad.